# 新浪美股小组件使用说明

## 🚀 快速开始

### 1. 查看小组件
运行 `widget.tsx` 来预览小组件显示的股票数据

### 2. 打开设置页面
运行以下任一脚本来打开设置页面：
- `index.tsx` - 主页面（包含设置入口）
- `src/scripts/openSettings.tsx` - 直接打开设置页面 ⭐ **推荐**

## ⚙️ 设置功能

### 添加股票代码
1. 在"股票代码"输入框中输入美股代码（如 META、NVDA）
2. 点击"添加"按钮
3. 股票会立即添加到列表中

### 删除股票代码
1. 在"当前股票列表"中找到要删除的股票
2. 点击对应的"删除"按钮

### 重置配置
点击"重置为默认配置"恢复到初始的5只股票

## 📋 股票代码格式

- ✅ 有效：AAPL、MSFT、GOOGL、META、NVDA
- ❌ 无效：INVALID123、空字符串、特殊字符

## 🔧 文件说明

### 主要文件
- `widget.tsx` - 小组件主入口
- `index.tsx` - 主页面（提供设置入口）
- `src/scripts/openSettings.tsx` - 设置页面直接入口 ⭐

### 核心组件
- `src/core/StockConfigManager.ts` - 股票配置管理
- `src/components/StockSettingsPage.tsx` - 设置页面UI
- `src/core/StockManager.ts` - 股票数据管理

## 🎯 使用示例

### 添加热门科技股
```
输入：META → 添加
输入：NVDA → 添加
输入：NFLX → 添加
```

### 自定义投资组合
```
科技股：AAPL、MSFT、GOOGL、META、NVDA
金融股：JPM、BAC、WFC、GS
医疗股：JNJ、PFE、UNH、ABT
```

## 📱 界面说明

### 设置页面布局
1. **添加股票代码** - 输入框和添加按钮
2. **当前股票列表** - 显示已配置的股票，每行有删除按钮
3. **操作区域** - 重置按钮和股票数量统计
4. **使用说明** - 操作提示和格式要求

### 主页面布局
- 股票列表显示
- "添加股票"按钮
- 底部时间戳显示

## 🔍 故障排除

### 常见问题

1. **设置页面无法打开**
   - 确保使用 `.tsx` 扩展名的文件
   - 检查导入路径是否正确

2. **股票代码添加失败**
   - 检查代码格式（1-5个英文字母）
   - 确保没有重复添加

3. **小组件显示异常**
   - 检查网络连接
   - 查看控制台日志

### 调试方法

1. 查看控制台日志了解错误信息
2. 检查Storage中的配置数据
3. 验证网络连接状态

## 📞 技术支持

如果遇到问题，请检查：
1. 文件扩展名是否为 `.tsx`
2. 导入路径是否正确
3. 控制台是否有错误信息
4. 网络连接是否正常

---

🎉 **设置功能已完全实现并可正常使用！**

推荐使用 `src/scripts/openSettings.tsx` 来快速访问设置页面。